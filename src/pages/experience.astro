---
import { changeLanguage, t } from "i18next";
import { Trans } from "astro-i18next/components";
import Layout from "../layouts/Layout.astro";
import "../styles/index.css";
import Header from "../components/Header.astro";
import Navbar from "../components/Navbar.astro";
import Divider from "../components/Divider.astro";
import Title from "../components/Title.astro";

changeLanguage("en");

const jobs = [
  {
    title: "Senior Fullstack Developer",
    company: "experience.quantilope.company_name",
    company_link: "https://www.quantilope.com",
    roles: [
      "experience.quantilope.role_1",
      "experience.quantilope.role_2",
      "experience.quantilope.role_3",
    ],
    acheivements: [
      "experience.quantilope.achievement_1",
      "experience.quantilope.achievement_2",
      "experience.quantilope.achievement_3",
      "experience.quantilope.achievement_4",
      "experience.quantilope.achievement_5",
    ],
    from: "Nov 2021",
    till: "Present",
    totalDuration: "1 yr 2 mos",
    multipleRoles: [],
  },
  {
    title: "Lead FrontEnd Developer",
    company: "experience.about_you.company_name",
    company_link: "https://en.aboutyou.de/",
    roles: ["experience.about_you.role_1", "experience.about_you.role_2"],
    acheivements: [
      "experience.about_you.achievement_1",
      "experience.about_you.achievement_2",
      "experience.about_you.achievement_3",
      "experience.about_you.achievement_4",
    ],
    from: "Nov 2018",
    till: "Oct 2021",
    totalDuration: "2 yrs 3 mos",
    multipleRoles: [],
  },
  {
    title: "Software Developer",
    company: "experience.razorthink.company_name",
    company_link: "https://razorthink.com/",
    roles: [
      "experience.razorthink.role_1",
      "experience.razorthink.role_2",
      "experience.razorthink.role_3",
    ],
    acheivements: [
      "experience.razorthink.achievement_1",
      "experience.razorthink.achievement_2",
      "experience.razorthink.achievement_3",
    ],
    from: "Jul 2017",
    till: "Oct 2018",
    totalDuration: "1 yr 4 mos",
    multipleRoles: [],
  },
  {
    title: "Junior Web developer",
    company: "experience.cmango.company_name",
    company_link: "https://cartoonmango.com/",
    roles: [
      "experience.cmango.role_1",
      "experience.cmango.role_2",
      "experience.cmango.role_3",
    ],
    acheivements: [
      "experience.cmango.achievement_1",
      "experience.cmango.achievement_2",
      "experience.cmango.achievement_3",
    ],
    from: "April 2015",
    till: "July 2017",
    totalDuration: "2 yr 2 mos",
    multipleRoles: [],
  },
];
---

<section>
  <Title title="What I'm doing/did?" />
  <ul class="gap-1 px-1 flex flex-col list-disc">
    {
      jobs.map(
        (
          {
            title,
            roles,
            from,
            till,
            company,
            totalDuration,
            company_link,
            acheivements,
          },
          index
        ) => (
          <li>
            <div class="flex flex-col lg:flex-row gap-0.5">
              <div class="flex lg:w-3/4 flex-col">
                <div class="flex flex-col lg:flex-row lg:items-center gap-0.5">
                  <h2 class="text-xl text-amber-700 font-semibold dark:text-light-blue">
                    üïµÔ∏è {title}
                  </h2>
                  <a
                    target="_blank"
                    href={company_link}
                    class="dark:text-blue-300 font-medium text-blue-800 cursor-pointer"
                  >
                    {t(company)}
                  </a>
                </div>
                <p class="dark:text-slate-400 text-sm text-slate-700">
                  Full Time . {from} to {till} . {totalDuration}
                </p>

                <section class="flex flex-col mr-3 lg:flex-row gap-1.5">
                  <div class="text-base my-1  dark:text-slate-300 font-normal flex flex-col gap-0.5">
                    {roles.map((role) => (
                      <p>
                        <Trans i18nKey={role}>
                          <span>.</span>
                        </Trans>
                      </p>
                    ))}
                  </div>
                </section>
              </div>
              <div class="text-lg lg:w-1/3 dark:text-slate-300 font-normal flex flex-col gap-0.5">
                <h3 class="text-xl font-bold text-amber-700 dark:text-light-blue">
                  Key Achievements üèÜ
                </h3>
                {acheivements.map((acheivement) => (
                  <div>
                    <span class="text-base dark:text-amber-200 achievement font-medium">
                      <i class="font-sans">ü•á</i>
                      <Trans i18nKey={acheivement}>
                        <span />
                      </Trans>
                    </span>
                  </div>
                ))}
              </div>
            </div>
            {index !== jobs.length - 1 && (
              <Divider classnames={["border-slate-200", "my-1"]} />
            )}
          </li>
        )
      )
    }
  </ul>
</section>
